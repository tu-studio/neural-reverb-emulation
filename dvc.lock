schema: '2.0'
stages:
  train:
    cmd: python3 source/train.py
    deps:
    - path: data/processed/
      hash: md5
      md5: 488a01467a31cc7309ab04ec88199f09.dir
      size: 1816535560
      nfiles: 3
    - path: source/network/
      hash: md5
      md5: c1af5861d5797679fa6930c61e7c01ad.dir
      size: 112666
      nfiles: 20
    - path: source/network/CombinedModels.py
      hash: md5
      md5: 6c752cb527b8db88e011ce96d5aa4f38
      size: 633
    - path: source/network/dataset.py
      hash: md5
      md5: 6a33e657139e21b977f4d2deb79bf1e4
      size: 4231
    - path: source/network/discriminator.py
      hash: md5
      md5: 4b6fee81585917729a78760034404e71
      size: 1285
    - path: source/network/metrics.py
      hash: md5
      md5: cdc7bfca0316cf52d2f32898e9186c07
      size: 2156
    - path: source/network/ravepqmf.py
      hash: md5
      md5: 6b1d8d0d4e150774d1d9ece29df3188a
      size: 6938
    - path: source/network/tcn.py
      hash: md5
      md5: 19a996b567eeb956edf96080d4c8a085
      size: 3121
    - path: source/network/testing.py
      hash: md5
      md5: 6a9699347c3c72177462b6d802210ee2
      size: 4032
    - path: source/network/training.py
      hash: md5
      md5: 08867027224bcf553cdc97e46686fd90
      size: 15947
    - path: source/train.py
      hash: md5
      md5: 9dbc6158eeb79380a5847f09c250f24e
      size: 13883
    params:
      params.yaml:
        discriminator.beta1: 0.5
        discriminator.beta2: 0.999
        discriminator.kernel_size: 4
        discriminator.lr: 0.0002
        discriminator.n_channels: 64
        discriminator.n_layers: 1
        discriminator.padding: 1
        discriminator.stride: 2
        gan.loss_type: hinge
        general.input_size: 524288
        general.random_seed: 55
        general.sample_rate: 44100
        metrics.additional_fft: true
        metrics.additional_mse: true
        metrics.additional_spec: true
        metrics.additional_stft: true
        metrics.loss_function: combined
        train.activation: prelu
        train.batch_size: 1
        train.device_request: cuda
        train.dilate_conv: true
        train.dilation_growth: 8
        train.epochs: 500
        train.input_file: data/processed/preprocessed_data.pt
        train.kernel_size: 16
        train.latent_dim: 32
        train.lr: 0.0001
        train.n_bands: 1
        train.n_blocks: 4
        train.n_channels: 32
        train.n_inputs: 1
        train.name: model
        train.padding: 71
        train.scheduler_rate: 0.1
        train.stride: 1
        train.use_adversarial: false
        train.use_batch_norm: false
        train.use_kl: true
        train.use_latent: conv
        train.use_noise: false
        train.use_pqmf: true
        train.use_residual: true
        train.use_skip: true
        train.use_tcn: false
        train.use_upsampling: false
        train.use_wn: false
    outs:
    - path: model/checkpoints/
      hash: md5
      md5: 66796ad1e9b25a3bf318cbbc7260a7b0.dir
      size: 8880512
      nfiles: 2
  save_logs:
    cmd: python3 source/utils/logs.py
    outs:
    - path: exp_logs/slurm
      hash: md5
      md5: fa010d81d559c3016c64d229c4d72d85.dir
      size: 3604454281
      nfiles: 640
    - path: exp_logs/tensorboard
      hash: md5
      md5: f83b462e568e2688259943b165b97b7c.dir
      size: 0
      nfiles: 1
  export:
    cmd: python3 source/export.py
    deps:
    - path: model/checkpoints/
      hash: md5
      md5: 66796ad1e9b25a3bf318cbbc7260a7b0.dir
      size: 8880512
      nfiles: 2
    - path: source/export.py
      hash: md5
      md5: 6ce31a330465f6fc762a46c28b5a59e8
      size: 4684
    params:
      params.yaml:
        general.input_size: 524288
    outs:
    - path: model/exports/
      hash: md5
      md5: dbf3caae8125f4ff72df128c5fc02dc9.dir
      size: 8713387
      nfiles: 1
